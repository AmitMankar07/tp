<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Attendance Management</title>
    <style>
        /* Add your CSS styles here */
        /* Style for attendance table */
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .center {
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>School Attendance </h1>
    <form action="/admin/form" method="post" id="fetch-students-form">
      
        <label for="attendanceDate">Select Date:</label>
        <input type="date" id="attendanceDate" name="attendanceDate" required>
    
        <button type="submit" id="fetch-students-btn">Fetch Students</button>
       
    </form>
    <table id="students-table">
        <thead>
          <tr>
            <th>Name</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    
      <script>
        const fetchStudentsBtn = document.getElementById('fetch-students-btn');
        const studentsTable = document.getElementById('students-table');
        
        fetchStudentsBtn.addEventListener('click', async () => {
          try {
            const response = await fetch('/admin/students'); // Fetch students from the /admin/students route
            const students = await response.json();
        
            // Clear the table
            studentsTable.innerHTML = '';
        
            // Create a table row for each student
            students.forEach((student) => {
              const row = document.createElement('tr');
        
              const nameCell = document.createElement('td');
              nameCell.textContent = student.name;
              row.appendChild(nameCell);
        
              studentsTable.appendChild(row);
            });
          } catch (error) {
            console.error(error);
          }
        });
        </script>
</body>
</html>
